<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	
</body>
<script>
	var base = {
		name: "base",
		getInfo: function() {
			return this.name;
		}
	}

	var base2 = {
		/*name: "base2",*/
		getInfo: function() {
			return this.name;
		}
	}

	var ext1 = {
		id: 0,
		name: 'ext1',
		__proto__:　base
	}                                            

	var ext2 = {
		id: 9,
		__proto__:　base2
	}

	/*console.log(ext1.id);
	console.log(ext1.getInfo());
	console.log(ext2.id);
	console.log(ext2.getInfo());*/

	/*构造器(constructor)*/

	function Task(id) {
		this.id = id;
	}
 	
 	var date = new Date();
 	//date 继承自date.prototype，date.prototype继承自Object.prototype，所以date也继承自Object.prototype.这一系列链接的原型对象就是所谓的原型链
 	
 


 	//Object.create()
 	//ECMAScript5定义了一个名为Object.create()的方法，它创建一个新对象，其中第一个参数是这个对象的原型。Object.create()提供第二个可选参数，用以对对象的属性进行进一步描述。是一个静态函数，而不是提供给某个对象调用的方法，
 	var o1 = Object.create({x:1, y:2}); //o1继承了属性x和y
 	
 	var o2 = Object.create(null); //o2不继承任何属性和方法，。输出o2位no properties

 	var o3 = Object.create(Object.prototype); //o3相当于{},或者new Object()；


 	//通过原型继承创建一个新对象
 	function inherit(p) {
 		if(p == null) throw TypeError();  //p是一个对象，但是不能是null
 		if (Object.create) 	//如果Object.create()存在则直接使用这个函数创建
 			return Object.create(p);
 		var t = typeof p;  //否则进行进一步检测
 		if (t !== "object" && t !== "function") throw TypeError();
 		function f() {}; //定义一个空的构造函数
		f.prototype = p; //将它的原型prototype设置为p
		return new f();		//使用f()创建p的继承对象
 	}
 	/*var  p = {x:0, y:1};
 	inherit(p);*/

 	var o = {x: "don't change this value"};
 //	library_function(inherit(o)); //防止对o的意外修改
 

 //属性的查询和设置
 	var book = {
 		author: {
 			surname: "username",
 		},
 		"main title": "maintitle"
 	}
	var author = book.author;
	var name = author.surname;
	var title = book["main title"];

	book.edition = 6;
	book['main title'] = "ECMAScript";
	console.log(book);

	//object['property'] ,这种语法看起来比较像数组，只是这个数组元素是通过字符串索引而不是数字索引。这种数组就是关联数组（associative array），也称做散列，映射或字典。javascript对象都是关联数组。

	var  addr = "";
	for(var i = 0; i < 4; i++) {
		addr += customer["address" + i] +'\n';
	}

	function addstock(portfolio, stockname, shares) {
		portfolio[stockname] = shares;
	}

	//for/in 循环
	function getvalue(portfolio) {
		var total = 0.0;
		for(stock in portfolio) {				//遍历portfolio中的每只股票
			var shares = portfolio[stock];		//
			var price = getquote(stock);
			total += shares * price;
		}
		return total;
	}
</script>
</html>


<!-- 每一个javascript对象（null除外）都和另外一个对象相关联。“另一个”对象就是我们熟知的原型，每一个对象都从原型继承属性。 -->